{% extends 'header.html' %}
<!-- ^^ This means add this file to the end of the contents of header.html -->
<!-- This is where the title, top buttons, and stylesheet is located -->

<!-- Change title here -->
{% block title %}Formbar Home{% endblock %}
{% block style %}
<link rel="stylesheet" href="../static/css/tabs.css">{% endblock %}
{% block script %}<script src="../static/jquery/external/jquery/jquery.js" charset="utf-8"></script>
<script src="../static/jquery/jquery-ui.min.js" charset="utf-8"></script>
<script>
    $(function() {
        $("#tabcontainer").accordion();
    });
</script>{% endblock %}
{% block main %}
<h1>Formbar</h1>
<div id="tabcontainer">

    <h3 class="tab">Students</h3>
    <div class="entry">
        <div class="entrylink -green" onclick="window.location = '/tutd';">
            Thumbspanel (/tutd)
        </div>
        <div class="entrylink -blue" onclick="window.location = '/chat';">
            Chat (/chat)
        </div>
        <div class="entrylink -red" onclick="window.location = '/help';">
            Help! (/help)
        </div>
        <div class="entrylink -yellow" onclick="window.location = '/wawd';">
            What Are We Doing? (/wawd)
        </div>
    </div>
    <h3 class="tab">Formbar</h3>
    <div class="entry">
        <div class="entrylink -green" onclick="window.location = '/bgm';">
            Background Music (/bgm)
        </div>
        <div class="entrylink -blue" onclick="window.location = '/sfx';">
            Sound Effects (/sfx)
        </div>
        <div class="entrylink -red" onclick="window.location = '/expert';">
            Expert Mode (/expert)
        </div>
        <div class="entrylink -yellow" onclick="window.location = '/virtualbar';">
            VirtualBar (/virtualbar)
        </div>
    </div>
    <h3 class="tab">Games</h3>
    <div class="entry">
        <div class="entrylink -green" onclick="window.location = '/2048';">
            2048 (/2048)
        </div>
        <div class="entrylink -blue" onclick="window.location = '/hangman';">
            Hang Man (/hangman)
        </div>
        <div class="entrylink -red" onclick="window.location = '/ttt';">
            Tic-Tac-Toe (/ttt)
        </div>
        <div class="entrylink -yellow" onclick="window.location = '/games';">
            All Games (/games)
        </div>
    </div>
    <h3 class="tab">Teacher</h3>
    <div class="entry">
        <div class="entrylink -green" onclick="window.location = '/settings';">
            Settings (/settings)
        </div>
        <div class="entrylink -blue" onclick="window.location = '/lesson';">
            Lesson (/lesson)
        </div>
        <div class="entrylink -red" onclick="window.location = '/needshelp';">
            Help Tickets (/needshelp)
        </div>
        <div class="entrylink -red" onclick="window.location = '/debug';">
            API Debug (/debug)
        </div>
    </div>
</div>

<script>
  //ep will be true if user made expert mode their default
  let ep = localStorage.getItem("expertPreference");
  let urlParams = new URLSearchParams(window.location.search);
  let ud = urlParams.get('useDefault');

  //Redirect to /expert if ep is true, unless url parameter "useDefault" is true
  if (ep && !ud) window.location = "/expert";
</script>

{% endblock %}
